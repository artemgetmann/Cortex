[
  {
    "id": "1771016102-9701",
    "created_at": "2026-02-13T20:55:02.481555+00:00",
    "session_id": 9701,
    "task_id": "incremental_reconcile",
    "confidence": 0.86,
    "evaluation": {
      "applicable": true,
      "passed": false,
      "score": 0.917,
      "reasons": [
        "too_many_errors"
      ],
      "evidence": {
        "sql_event_count": 10,
        "error_count": 3,
        "max_error_count": 1,
        "required_patterns": {
          "matched": [
            "(?is)begin\\s+(transaction|immediate)",
            "(?is)commit",
            "(?is)insert\\s+into\\s+ledger",
            "(?is)insert\\s+into\\s+rejects",
            "(?is)checkpoint_log",
            "(?is)ckp-apr-01"
          ],
          "missing": []
        },
        "forbidden_patterns": {
          "matched": []
        },
        "required_queries": [
          {
            "id": "ledger_aggregate",
            "sql": "SELECT category, SUM(amount) AS total FROM ledger GROUP BY category ORDER BY category;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ],
            "actual_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ]
          },
          {
            "id": "reject_count",
            "sql": "SELECT COUNT(*) FROM rejects WHERE reason = 'duplicate_event';",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "1"
              ]
            ],
            "actual_rows": [
              [
                "1"
              ]
            ]
          },
          {
            "id": "checkpoint_row",
            "sql": "SELECT checkpoint_tag, row_count FROM checkpoint_log ORDER BY checkpoint_tag;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ],
            "actual_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ]
          }
        ]
      },
      "contract_path": "/Users/user/Programming_Projects/Cortex/.worktrees/dev/tracks/cli_sqlite/tasks/incremental_reconcile/CONTRACT.json"
    },
    "updates": [
      {
        "skill_ref": "sqlite/incremental-reconcile",
        "skill_digest": "c638d3e9a744281845c831af49eabc772eb284b992d3665c98319cf8c5ab9cfd",
        "root_cause": "Deterministic evaluator reasons indicate repeated contract-level execution failures.",
        "evidence_steps": [
          2,
          4,
          5
        ],
        "replace_rules": [],
        "append_bullets": [
          "After the first SQL error, inspect schema/state and issue one corrective query before further mutations."
        ]
      }
    ]
  },
  {
    "id": "1771016169-9703",
    "created_at": "2026-02-13T20:56:09.689940+00:00",
    "session_id": 9703,
    "task_id": "incremental_reconcile",
    "confidence": 0.86,
    "evaluation": {
      "applicable": true,
      "passed": false,
      "score": 0.833,
      "reasons": [
        "matched_forbidden_pattern",
        "too_many_errors"
      ],
      "evidence": {
        "sql_event_count": 9,
        "error_count": 3,
        "max_error_count": 1,
        "required_patterns": {
          "matched": [
            "(?is)begin\\s+(transaction|immediate)",
            "(?is)commit",
            "(?is)insert\\s+into\\s+ledger",
            "(?is)insert\\s+into\\s+rejects",
            "(?is)checkpoint_log",
            "(?is)ckp-apr-01"
          ],
          "missing": []
        },
        "forbidden_patterns": {
          "matched": [
            "(?is)delete\\s+from\\s+ledger"
          ]
        },
        "required_queries": [
          {
            "id": "ledger_aggregate",
            "sql": "SELECT category, SUM(amount) AS total FROM ledger GROUP BY category ORDER BY category;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ],
            "actual_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ]
          },
          {
            "id": "reject_count",
            "sql": "SELECT COUNT(*) FROM rejects WHERE reason = 'duplicate_event';",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "1"
              ]
            ],
            "actual_rows": [
              [
                "1"
              ]
            ]
          },
          {
            "id": "checkpoint_row",
            "sql": "SELECT checkpoint_tag, row_count FROM checkpoint_log ORDER BY checkpoint_tag;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ],
            "actual_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ]
          }
        ]
      },
      "contract_path": "/Users/user/Programming_Projects/Cortex/.worktrees/dev/tracks/cli_sqlite/tasks/incremental_reconcile/CONTRACT.json"
    },
    "updates": [
      {
        "skill_ref": "sqlite/incremental-reconcile",
        "skill_digest": "c638d3e9a744281845c831af49eabc772eb284b992d3665c98319cf8c5ab9cfd",
        "root_cause": "Deterministic evaluator reasons indicate repeated contract-level execution failures.",
        "evidence_steps": [
          2,
          5,
          10
        ],
        "replace_rules": [],
        "append_bullets": [
          "Never use forbidden SQL operations from the contract; prefer safe transaction rollbacks and allowed rewrites.",
          "After the first SQL error, inspect schema/state and issue one corrective query before further mutations."
        ]
      }
    ]
  },
  {
    "id": "1771016203-9704",
    "created_at": "2026-02-13T20:56:43.021753+00:00",
    "session_id": 9704,
    "task_id": "incremental_reconcile",
    "confidence": 0.86,
    "evaluation": {
      "applicable": true,
      "passed": false,
      "score": 0.917,
      "reasons": [
        "too_many_errors"
      ],
      "evidence": {
        "sql_event_count": 10,
        "error_count": 3,
        "max_error_count": 1,
        "required_patterns": {
          "matched": [
            "(?is)begin\\s+(transaction|immediate)",
            "(?is)commit",
            "(?is)insert\\s+into\\s+ledger",
            "(?is)insert\\s+into\\s+rejects",
            "(?is)checkpoint_log",
            "(?is)ckp-apr-01"
          ],
          "missing": []
        },
        "forbidden_patterns": {
          "matched": []
        },
        "required_queries": [
          {
            "id": "ledger_aggregate",
            "sql": "SELECT category, SUM(amount) AS total FROM ledger GROUP BY category ORDER BY category;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ],
            "actual_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ]
          },
          {
            "id": "reject_count",
            "sql": "SELECT COUNT(*) FROM rejects WHERE reason = 'duplicate_event';",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "1"
              ]
            ],
            "actual_rows": [
              [
                "1"
              ]
            ]
          },
          {
            "id": "checkpoint_row",
            "sql": "SELECT checkpoint_tag, row_count FROM checkpoint_log ORDER BY checkpoint_tag;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ],
            "actual_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ]
          }
        ]
      },
      "contract_path": "/Users/user/Programming_Projects/Cortex/.worktrees/dev/tracks/cli_sqlite/tasks/incremental_reconcile/CONTRACT.json"
    },
    "updates": [
      {
        "skill_ref": "sqlite/incremental-reconcile",
        "skill_digest": "c638d3e9a744281845c831af49eabc772eb284b992d3665c98319cf8c5ab9cfd",
        "root_cause": "Deterministic evaluator reasons indicate repeated contract-level execution failures.",
        "evidence_steps": [
          2,
          5,
          6
        ],
        "replace_rules": [],
        "append_bullets": [
          "After the first SQL error, inspect schema/state and issue one corrective query before further mutations."
        ]
      }
    ]
  },
  {
    "id": "1771016237-9705",
    "created_at": "2026-02-13T20:57:17.668597+00:00",
    "session_id": 9705,
    "task_id": "incremental_reconcile",
    "confidence": 0.86,
    "evaluation": {
      "applicable": true,
      "passed": false,
      "score": 0.917,
      "reasons": [
        "too_many_errors"
      ],
      "evidence": {
        "sql_event_count": 10,
        "error_count": 2,
        "max_error_count": 1,
        "required_patterns": {
          "matched": [
            "(?is)begin\\s+(transaction|immediate)",
            "(?is)commit",
            "(?is)insert\\s+into\\s+ledger",
            "(?is)insert\\s+into\\s+rejects",
            "(?is)checkpoint_log",
            "(?is)ckp-apr-01"
          ],
          "missing": []
        },
        "forbidden_patterns": {
          "matched": []
        },
        "required_queries": [
          {
            "id": "ledger_aggregate",
            "sql": "SELECT category, SUM(amount) AS total FROM ledger GROUP BY category ORDER BY category;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ],
            "actual_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ]
          },
          {
            "id": "reject_count",
            "sql": "SELECT COUNT(*) FROM rejects WHERE reason = 'duplicate_event';",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "1"
              ]
            ],
            "actual_rows": [
              [
                "1"
              ]
            ]
          },
          {
            "id": "checkpoint_row",
            "sql": "SELECT checkpoint_tag, row_count FROM checkpoint_log ORDER BY checkpoint_tag;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ],
            "actual_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ]
          }
        ]
      },
      "contract_path": "/Users/user/Programming_Projects/Cortex/.worktrees/dev/tracks/cli_sqlite/tasks/incremental_reconcile/CONTRACT.json"
    },
    "updates": [
      {
        "skill_ref": "sqlite/incremental-reconcile",
        "skill_digest": "c638d3e9a744281845c831af49eabc772eb284b992d3665c98319cf8c5ab9cfd",
        "root_cause": "Deterministic evaluator reasons indicate repeated contract-level execution failures.",
        "evidence_steps": [
          2,
          4
        ],
        "replace_rules": [],
        "append_bullets": [
          "After the first SQL error, inspect schema/state and issue one corrective query before further mutations."
        ]
      }
    ]
  },
  {
    "id": "1771016272-9706",
    "created_at": "2026-02-13T20:57:52.527479+00:00",
    "session_id": 9706,
    "task_id": "incremental_reconcile",
    "confidence": 0.86,
    "evaluation": {
      "applicable": true,
      "passed": false,
      "score": 0.833,
      "reasons": [
        "matched_forbidden_pattern",
        "too_many_errors"
      ],
      "evidence": {
        "sql_event_count": 10,
        "error_count": 3,
        "max_error_count": 1,
        "required_patterns": {
          "matched": [
            "(?is)begin\\s+(transaction|immediate)",
            "(?is)commit",
            "(?is)insert\\s+into\\s+ledger",
            "(?is)insert\\s+into\\s+rejects",
            "(?is)checkpoint_log",
            "(?is)ckp-apr-01"
          ],
          "missing": []
        },
        "forbidden_patterns": {
          "matched": [
            "(?is)delete\\s+from\\s+ledger"
          ]
        },
        "required_queries": [
          {
            "id": "ledger_aggregate",
            "sql": "SELECT category, SUM(amount) AS total FROM ledger GROUP BY category ORDER BY category;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ],
            "actual_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ]
          },
          {
            "id": "reject_count",
            "sql": "SELECT COUNT(*) FROM rejects WHERE reason = 'duplicate_event';",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "1"
              ]
            ],
            "actual_rows": [
              [
                "1"
              ]
            ]
          },
          {
            "id": "checkpoint_row",
            "sql": "SELECT checkpoint_tag, row_count FROM checkpoint_log ORDER BY checkpoint_tag;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ],
            "actual_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ]
          }
        ]
      },
      "contract_path": "/Users/user/Programming_Projects/Cortex/.worktrees/dev/tracks/cli_sqlite/tasks/incremental_reconcile/CONTRACT.json"
    },
    "updates": [
      {
        "skill_ref": "sqlite/incremental-reconcile",
        "skill_digest": "c638d3e9a744281845c831af49eabc772eb284b992d3665c98319cf8c5ab9cfd",
        "root_cause": "Deterministic evaluator reasons indicate repeated contract-level execution failures.",
        "evidence_steps": [
          2,
          4,
          10
        ],
        "replace_rules": [],
        "append_bullets": [
          "Never use forbidden SQL operations from the contract; prefer safe transaction rollbacks and allowed rewrites.",
          "After the first SQL error, inspect schema/state and issue one corrective query before further mutations."
        ]
      }
    ]
  },
  {
    "id": "1771016304-9707",
    "created_at": "2026-02-13T20:58:24.871295+00:00",
    "session_id": 9707,
    "task_id": "incremental_reconcile",
    "confidence": 0.86,
    "evaluation": {
      "applicable": true,
      "passed": false,
      "score": 0.833,
      "reasons": [
        "required_query_mismatch",
        "too_many_errors"
      ],
      "evidence": {
        "sql_event_count": 12,
        "error_count": 3,
        "max_error_count": 1,
        "required_patterns": {
          "matched": [
            "(?is)begin\\s+(transaction|immediate)",
            "(?is)commit",
            "(?is)insert\\s+into\\s+ledger",
            "(?is)insert\\s+into\\s+rejects",
            "(?is)checkpoint_log",
            "(?is)ckp-apr-01"
          ],
          "missing": []
        },
        "forbidden_patterns": {
          "matched": []
        },
        "required_queries": [
          {
            "id": "ledger_aggregate",
            "sql": "SELECT category, SUM(amount) AS total FROM ledger GROUP BY category ORDER BY category;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ],
            "actual_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ]
          },
          {
            "id": "reject_count",
            "sql": "SELECT COUNT(*) FROM rejects WHERE reason = 'duplicate_event';",
            "matched": false,
            "error": null,
            "expected_rows": [
              [
                "1"
              ]
            ],
            "actual_rows": [
              [
                "2"
              ]
            ]
          },
          {
            "id": "checkpoint_row",
            "sql": "SELECT checkpoint_tag, row_count FROM checkpoint_log ORDER BY checkpoint_tag;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ],
            "actual_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ]
          }
        ]
      },
      "contract_path": "/Users/user/Programming_Projects/Cortex/.worktrees/dev/tracks/cli_sqlite/tasks/incremental_reconcile/CONTRACT.json"
    },
    "updates": [
      {
        "skill_ref": "sqlite/import-aggregate",
        "skill_digest": "a72d720abbc48efe0e5982d5f1c87333f674642dadec9894a51034711faaa27d",
        "root_cause": "Deterministic evaluator reasons indicate repeated contract-level execution failures.",
        "evidence_steps": [
          2,
          4,
          14
        ],
        "replace_rules": [],
        "append_bullets": [
          "Before finishing, run verify_contract and reconcile every mismatched required query with minimal SQL edits.",
          "After the first SQL error, inspect schema/state and issue one corrective query before further mutations."
        ]
      }
    ]
  },
  {
    "id": "1771016338-9708",
    "created_at": "2026-02-13T20:58:58.568508+00:00",
    "session_id": 9708,
    "task_id": "incremental_reconcile",
    "confidence": 0.86,
    "evaluation": {
      "applicable": true,
      "passed": false,
      "score": 0.833,
      "reasons": [
        "matched_forbidden_pattern",
        "too_many_errors"
      ],
      "evidence": {
        "sql_event_count": 13,
        "error_count": 3,
        "max_error_count": 1,
        "required_patterns": {
          "matched": [
            "(?is)begin\\s+(transaction|immediate)",
            "(?is)commit",
            "(?is)insert\\s+into\\s+ledger",
            "(?is)insert\\s+into\\s+rejects",
            "(?is)checkpoint_log",
            "(?is)ckp-apr-01"
          ],
          "missing": []
        },
        "forbidden_patterns": {
          "matched": [
            "(?is)delete\\s+from\\s+ledger"
          ]
        },
        "required_queries": [
          {
            "id": "ledger_aggregate",
            "sql": "SELECT category, SUM(amount) AS total FROM ledger GROUP BY category ORDER BY category;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ],
            "actual_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ]
          },
          {
            "id": "reject_count",
            "sql": "SELECT COUNT(*) FROM rejects WHERE reason = 'duplicate_event';",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "1"
              ]
            ],
            "actual_rows": [
              [
                "1"
              ]
            ]
          },
          {
            "id": "checkpoint_row",
            "sql": "SELECT checkpoint_tag, row_count FROM checkpoint_log ORDER BY checkpoint_tag;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ],
            "actual_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ]
          }
        ]
      },
      "contract_path": "/Users/user/Programming_Projects/Cortex/.worktrees/dev/tracks/cli_sqlite/tasks/incremental_reconcile/CONTRACT.json"
    },
    "updates": [
      {
        "skill_ref": "sqlite/incremental-reconcile",
        "skill_digest": "c638d3e9a744281845c831af49eabc772eb284b992d3665c98319cf8c5ab9cfd",
        "root_cause": "Deterministic evaluator reasons indicate repeated contract-level execution failures.",
        "evidence_steps": [
          3,
          6,
          12
        ],
        "replace_rules": [],
        "append_bullets": [
          "Never use forbidden SQL operations from the contract; prefer safe transaction rollbacks and allowed rewrites.",
          "After the first SQL error, inspect schema/state and issue one corrective query before further mutations."
        ]
      }
    ]
  },
  {
    "id": "1771016372-9709",
    "created_at": "2026-02-13T20:59:32.646029+00:00",
    "session_id": 9709,
    "task_id": "incremental_reconcile",
    "confidence": 0.86,
    "evaluation": {
      "applicable": true,
      "passed": false,
      "score": 0.917,
      "reasons": [
        "too_many_errors"
      ],
      "evidence": {
        "sql_event_count": 11,
        "error_count": 2,
        "max_error_count": 1,
        "required_patterns": {
          "matched": [
            "(?is)begin\\s+(transaction|immediate)",
            "(?is)commit",
            "(?is)insert\\s+into\\s+ledger",
            "(?is)insert\\s+into\\s+rejects",
            "(?is)checkpoint_log",
            "(?is)ckp-apr-01"
          ],
          "missing": []
        },
        "forbidden_patterns": {
          "matched": []
        },
        "required_queries": [
          {
            "id": "ledger_aggregate",
            "sql": "SELECT category, SUM(amount) AS total FROM ledger GROUP BY category ORDER BY category;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ],
            "actual_rows": [
              [
                "bass",
                "4"
              ],
              [
                "drums",
                "13"
              ],
              [
                "lead",
                "3"
              ]
            ]
          },
          {
            "id": "reject_count",
            "sql": "SELECT COUNT(*) FROM rejects WHERE reason = 'duplicate_event';",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "1"
              ]
            ],
            "actual_rows": [
              [
                "1"
              ]
            ]
          },
          {
            "id": "checkpoint_row",
            "sql": "SELECT checkpoint_tag, row_count FROM checkpoint_log ORDER BY checkpoint_tag;",
            "matched": true,
            "error": null,
            "expected_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ],
            "actual_rows": [
              [
                "CKP-APR-01",
                "4"
              ]
            ]
          }
        ]
      },
      "contract_path": "/Users/user/Programming_Projects/Cortex/.worktrees/dev/tracks/cli_sqlite/tasks/incremental_reconcile/CONTRACT.json"
    },
    "updates": [
      {
        "skill_ref": "sqlite/incremental-reconcile",
        "skill_digest": "c638d3e9a744281845c831af49eabc772eb284b992d3665c98319cf8c5ab9cfd",
        "root_cause": "Deterministic evaluator reasons indicate repeated contract-level execution failures.",
        "evidence_steps": [
          2,
          5
        ],
        "replace_rules": [],
        "append_bullets": [
          "After the first SQL error, inspect schema/state and issue one corrective query before further mutations."
        ]
      }
    ]
  }
]